{% extends "base.html" %}

{% block content %}
<div>
  <div>
    {% block sidebar %}
    {% include "saas/_sidebar.html" %}
    {% endblock %}
  </div>
  <hr />
  <div id="app">
    {% block saas_title %}{% endblock %}
    {% block saas_help_menus %}{% endblock %}
    {% block saas_content %}{% endblock %}
  </div>
</div>
{% endblock %}

{% block bodyscripts %}
<script type="text/javascript" charset="utf-8" src="/static/js/djaodjin-resources.js"></script>
<script type="text/javascript" charset="utf-8" src="/static/js/djaodjin-postal.js"></script>
<script type="text/javascript" charset="utf-8" src="/static/vendor/vue.js"></script>
<script type="text/javascript">
Vue.prototype.$itemsPerPage =
    {% if items_per_page %}{{items_per_page}}{% else %}25{% endif %};
//Vue.prototype.$sortDirection = ;
//Vue.prototype.$sortByField = ;
Vue.prototype.$dateRange = {
    start_at: "{% if start_at %}{{start_at|isoformat}}{% endif %}",
    ends_at: "{% if ends_at %}{{ends_at|isoformat}}{% endif %}"
};
Vue.prototype.$urls = {% if urls %}{{urls|to_json}}{% else %}{}{% endif %};
Vue.prototype.$tables = {% if tables %}{{tables|safe}}{% else %}{}{% endif %};
</script>
<script type="text/javascript" charset="utf-8" src="/static/vendor/vue-croppa.js"></script>
<script type="text/javascript" charset="utf-8" src="/static/js/djaodjin-resources-vue.js"></script>
{# saas_bodyscripts here because we want to load Stripe before djaodjin-saas-vue.js #}
{% block saas_bodyscripts %}{% endblock %}
<script type="text/javascript" charset="utf-8" src="/static/js/djaodjin-saas-vue.js"></script>
<script type="text/javascript">
Vue.use(Croppa);
var app = new Vue({
  el: '#app',
  delimiters: ["[[","]]"],
});
</script>
{% endblock %}

